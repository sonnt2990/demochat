2021-03-08 09:44:00,100 INFO c.z.c.s.MainServer: [LOG] Binded LoggerFactory: org.apache.logging.slf4j.Log4jLoggerFactory
2021-03-08 09:44:00,116 INFO c.z.c.ServerBootstrap: -----------------------------------------------------------------
2021-03-08 09:44:00,116 INFO c.z.c.ServerBootstrap: Client starting...
2021-03-08 09:44:00,335 INFO c.z.b.h.BeanComponentScanner: [BeanComponent] Found 14 components
2021-03-08 09:44:00,579 INFO c.z.b.h.BeanConfigHelper: [BeanConfiguration] Init class com.zitga.core.config.ServerConfig with 
	bossThreadNumber=2, workerThreadNumber=2, schedulerThreadNumber=2
NetworkConfig{maxConnection=100000, idleTimeOut=900, keepAlive=true, headerSize=4, enableLog=false, logLevel='DEBUG'}	[tcp]: enable=true, port=8101

2021-03-08 09:44:00,607 INFO c.z.b.h.BeanConfigHelper: [BeanConfiguration] Init class com.zitga.chat.server.config.DbConfig with 
	uri='mongodb+srv://m001-student:qSzncFgdiaVKP4KA@clusterdemo.g6tly.mongodb.net/ChatServer?retryWrites=true&w=majority'
2021-03-08 09:44:00,609 INFO c.z.b.h.BeanMethodHelper: [BeanMethod] Found 0 methods
2021-03-08 09:44:00,622 INFO c.z.c.s.s.MessageService: Initializing MessageService ...
2021-03-08 09:44:00,879 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 1 to com.zitga.core.handler.socket.basic.SyncClockTimeHandler
2021-03-08 09:44:00,880 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 4 to com.zitga.core.handler.socket.basic.UdpHandshakeHandler
2021-03-08 09:44:00,880 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 29 to com.zitga.chat.server.handler.MessageHandler
2021-03-08 09:44:00,880 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 7 to com.zitga.core.handler.socket.basic.EchoHandler
2021-03-08 09:44:00,880 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 0 to com.zitga.core.handler.socket.basic.PingHandler
2021-03-08 09:44:01,046 INFO c.z.c.t.s.TcpTransporter: TCP transporter is listening on port 8101
2021-03-08 09:44:01,047 INFO c.z.c.ServerBootstrap: Client start successfully!
2021-03-08 09:44:01,047 INFO c.z.c.ServerBootstrap: -----------------------------------------------------------------
2021-03-08 09:44:09,313 INFO c.z.c.ServerBootstrap: -----------------------------------------------------------------
2021-03-08 09:44:09,313 INFO c.z.c.ServerBootstrap: Client stopping...
2021-03-08 09:46:27,701 INFO c.z.c.s.MainServer: [LOG] Binded LoggerFactory: org.apache.logging.slf4j.Log4jLoggerFactory
2021-03-08 09:46:27,705 INFO c.z.c.ServerBootstrap: -----------------------------------------------------------------
2021-03-08 09:46:27,705 INFO c.z.c.ServerBootstrap: Server starting...
2021-03-08 09:46:27,868 INFO c.z.b.h.BeanComponentScanner: [BeanComponent] Found 14 components
2021-03-08 09:46:28,124 INFO c.z.b.h.BeanConfigHelper: [BeanConfiguration] Init class com.zitga.chat.server.config.DbConfig with 
	uri='mongodb+srv://m001-student:qSzncFgdiaVKP4KA@clusterdemo.g6tly.mongodb.net/ChatServer?retryWrites=true&w=majority'
2021-03-08 09:46:28,133 INFO c.z.b.h.BeanConfigHelper: [BeanConfiguration] Init class com.zitga.core.config.ServerConfig with 
	bossThreadNumber=2, workerThreadNumber=2, schedulerThreadNumber=2
NetworkConfig{maxConnection=100000, idleTimeOut=900, keepAlive=true, headerSize=4, enableLog=false, logLevel='DEBUG'}	[tcp]: enable=true, port=8101

2021-03-08 09:46:28,136 INFO c.z.b.h.BeanMethodHelper: [BeanMethod] Found 0 methods
2021-03-08 09:46:28,146 INFO c.z.c.s.s.MessageService: Initializing MessageService ...
2021-03-08 09:46:28,286 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 29 to com.zitga.chat.server.handler.MessageHandler
2021-03-08 09:46:28,286 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 7 to com.zitga.core.handler.socket.basic.EchoHandler
2021-03-08 09:46:28,286 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 4 to com.zitga.core.handler.socket.basic.UdpHandshakeHandler
2021-03-08 09:46:28,286 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 1 to com.zitga.core.handler.socket.basic.SyncClockTimeHandler
2021-03-08 09:46:28,286 INFO c.z.c.r.s.SocketHandlerRegistry: Mapped code 0 to com.zitga.core.handler.socket.basic.PingHandler
2021-03-08 09:46:28,473 INFO c.z.c.t.s.TcpTransporter: TCP transporter is listening on port 8101
2021-03-08 09:46:28,473 INFO c.z.c.ServerBootstrap: Server start successfully!
2021-03-08 09:46:28,473 INFO c.z.c.ServerBootstrap: -----------------------------------------------------------------
2021-03-08 09:47:35,916 INFO c.z.c.s.d.ClientDAO: Saved client!!
2021-03-08 09:47:37,775 INFO c.z.c.s.d.MessageHistoryDAO: Saved message!!
2021-03-08 09:47:37,775 INFO c.z.c.s.h.MessageHandler: com.zitga.core.handler.socket.support.context.Peer@78806b9a
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: hehe
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: d
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: Aloooooooooooo 
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: Hellloooooooo
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: Hi client coppy
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: Hi client
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: hello
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: u
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: hi
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: a
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: 1
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: 2
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: /show100
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: a
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: s
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: hi
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: a
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: /Show
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: Show100
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: 2
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: hok thanks
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: hi
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: ok
2021-03-08 09:47:42,572 INFO c.z.c.s.h.MessageHandler: hi
2021-03-08 09:47:50,972 ERROR c.z.c.d.AbstractDispatcher: Exception caught at channel=[id: 0x2fdc27ee, L:/127.0.0.1:8101 - R:/127.0.0.1:65034]
2021-03-08 09:47:50,972 ERROR c.z.c.d.AbstractDispatcher: An existing connection was forcibly closed by the remote host
java.io.IOException: An existing connection was forcibly closed by the remote host
	at sun.nio.ch.SocketDispatcher.read0(Native Method) ~[?:1.8.0_191]
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43) ~[?:1.8.0_191]
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[?:1.8.0_191]
	at sun.nio.ch.IOUtil.read(IOUtil.java:192) ~[?:1.8.0_191]
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380) ~[?:1.8.0_191]
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253) ~[netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134) ~[netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350) ~[netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-all-4.1.56.Final.jar:4.1.56.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_191]
2021-03-08 09:47:55,359 INFO c.z.c.ServerBootstrap: -----------------------------------------------------------------
2021-03-08 09:47:55,359 INFO c.z.c.ServerBootstrap: Server stopping...
